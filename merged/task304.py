# combined (92 bytes, gold)
p=lambda i:[[t*(y==max(z:=sum(i,i),key=z.count))for y in x for t in s]for x in i for s in i]

### ovs (93 bytes)
p=lambda g:[[V*(v==max(f:=sum(g,[]),key=f.count))for v in r for V in R]for r in g for R in g]
