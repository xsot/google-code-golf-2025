# combined (54 vs 2500 bytes for gold)
p=lambda i:[[3%~t+2&8-(2in x)for t in i[0]]for x in i]

### ovs (64 bytes)
p=lambda g:[[26%(c+C+R-~r)for c,*_,C in zip(*g)]for r,*_,R in g]
