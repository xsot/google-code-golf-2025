p=lambda i:[i:=[[x.pop()or[0]<x[-1:]<[3]for _ in i]for*x,in zip(*i)]for _ in i][3]

##
p=lambda i:[*eval("map(lambda*x,t=0:[max(0<t<3,t:=y)for y in x][::-1],*"*4+"i))))")]
p=lambda*i:i[0]*0!=0and[*map(p,*sum([[x,x[1:]+x[-1:],x[:1]+x]for x in i],[]))]or i[0]or 2in i