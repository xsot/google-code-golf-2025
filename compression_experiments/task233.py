def p(r):
 for e in 92*[r]:r=[[*e]for e in zip(*r[all(e==e[:12]for e in str(r[0]).split('0')):][::-1])]
 for e in 92*[[e[n:3+n]for e in e[u:3+u]]for u,p in enumerate(e[2:])for n,p in enumerate(p[2:])][::-1]:
  for u,p in enumerate(r*({*sum(e,[])}^{0}>{2,0})):
   for n,p in enumerate(p):
    for m,p in enumerate(e*all((2*(2*r)[m+u])[o+n]==2*(2!=p)for m,p in enumerate(e)for o,p in enumerate(p))):r[m+u][n:3+n],*e=p,
  e[:]=[[*e]for e in zip(*e[::-1])]
 return r