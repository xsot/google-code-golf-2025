def p(r):
 for e in 92*[r]:r=[[*e]for e in zip(*r[('2, '*4in str(r[-1]))-2::-1])]
 for e in 92*[[e[a:3+a]for e in e[t:3+t]]for t,p in enumerate(e[2:])for a,p in enumerate(p[2:])][::-1]:
  for t,p in enumerate(r*({*sum(e,[])}^{0}>{2,0})):
   for a,p in enumerate(p):
    for n,p in enumerate(e*all((2*(2*r)[n+t])[i+a]==2*(2!=p)for n,p in enumerate(e)for i,p in enumerate(p))):r[n+t][a:3+a],*e=p,
  e[:]=[[*e]for e in zip(*e[::-1])]
 return r