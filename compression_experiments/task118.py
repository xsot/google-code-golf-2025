def p(i):
 for f in(2,3):
  a,t,r,*n=[{e-o*1jfor o,i in enumerate(i)for e,i in enumerate(i)if i>=f}for f in(2,0,5,6)]
  for o in t:m={e for e in t if abs(e-o)in(2,0,1,f)};n+=[f|m for f in n if a-f>m]
  for f in n:
   if a-r<f:return[[i+3*(e-o*1jin f&r)for e,i in enumerate(i)]for o,i in enumerate(i)]