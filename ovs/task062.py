def p(g):
 for*q,in[[]]*8:[q:=(q[::-1]*({*r}^{2}=={3}<{*q[0]})or[[v or 3for v in r]])+q for r in zip(*g)];g=q[-10:]
 return g
