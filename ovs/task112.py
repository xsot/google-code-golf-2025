p=lambda i,k=1:-k*i or p([*map(lambda*x,b=2+[*map(max,i)].index(3)*2:[y|(x*2)[b:=b-1]for y in x],*i)],k-1)

##

p=lambda i,k=1:-k*i or p([[*map(max,x,(x*2)[[*map(max,i)].index(3)*2+1::-1]+[0]*19)]for*x,in zip(*i)],k-1)
